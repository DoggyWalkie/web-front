<title>DoggyWalkie</title>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

<link rel="stylesheet" href="https://unpkg.com/buefy/dist/buefy.min.css">
<script src="https://unpkg.com/buefy/dist/buefy.min.js"></script>

<!-- // DogiABI = ... -->
<script src="DogiABI.js"></script>

<!-- // Web3 -->
<script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>


<div id="Walkie">
  <div>
    {{ person }} wants somebody to walk with his {{ breed }} called {{ doug }}
    on {{ date }} from {{ time }} to {{ time }}+1H.
  </div>
  <button onclick="createContract()">I can do this!</button>
</div>

  <script>
    // call smart contract to create real contract between people
    function createContract() {
      // make a web3 call with {{ person }}, {{ walker }}, {{ datetime }}

      // TODO: handle missing Metamask/...
      //web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
      web2 = new Web3();
      web3 = new Web3(web2.currentProvider);

      contradogi = web3.eth.contract(DogiABI);

      console.log('creating contract between people..');
    }
  </script>
 
<script>
  new Vue({
    el: '#Walkie',
    data: {
      doug: "Toby",
      breed: "Labrador",
      person: "Anatoly",
      walker: "",
      date: "2018-10-07",
      time: "18:00",
      pickerhide: true,
    }
  })
</script>
